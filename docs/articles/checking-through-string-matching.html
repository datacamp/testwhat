<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Checking through string matching • testwhat</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><meta property="og:title" content="Checking through string matching">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">testwhat</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">4.3.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/checking-control-flow.html">Checking control flow</a>
    </li>
    <li>
      <a href="../articles/checking-function-calls.html">Checking function calls</a>
    </li>
    <li>
      <a href="../articles/checking-function-definitions.html">Checking function definitions</a>
    </li>
    <li>
      <a href="../articles/checking-objects.html">Checking objects</a>
    </li>
    <li>
      <a href="../articles/checking-output.html">Checking output</a>
    </li>
    <li>
      <a href="../articles/checking-through-string-matching.html">Checking through string matching</a>
    </li>
    <li>
      <a href="../articles/combining-sets-of-SCTs.html">Combining sets of SCTs</a>
    </li>
    <li>
      <a href="../articles/electives.html">Electives</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/datacamp/testwhat">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Checking through string matching</h1>
                        <h4 class="author">Filip Schouwenaars</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/datacamp/testwhat/blob/master/vignettes/checking-through-string-matching.Rmd"><code>vignettes/checking-through-string-matching.Rmd</code></a></small>
      <div class="hidden name"><code>checking-through-string-matching.Rmd</code></div>

    </div>

    
    
<p>With <code><a href="../reference/check_code.html">check_code()</a></code>, you can look through the student’s submission to find a match with the string or strings specified in <code>strings</code>. With <code>fixed</code> you can declare whether or not to use regular expressions. If <code>fixed = FALSE</code>, the default, the strings are used as regular expressions for which a match is sought. when <code>fixed = TRUE</code>, <code><a href="../reference/check_code.html">check_code()</a></code> will consider the strings you pass as actual strings that have to be found exactly in the student’s submission. <code>times</code> tells how often (one of) the string(s) should be matched.</p>
<p>Before a match is sought, the student submission as well as the <code>strings</code> argument is ‘cleaned up’: spaces are removed, all <code>&lt;-</code> are replaced by <code>=</code>, double strings are changed to single strings, etc. That way, you don’t have to code all equivalent options.</p>
<p><strong>CAUTION</strong>: It is often tempting to use <code><a href="../reference/check_code.html">check_code()</a></code> as it’s straightforward to use, but <strong>you should avoid using this function</strong>, as it imposes severe restrictions on how a student can solve an exercise. Often, there are many different ways to solve an exercise. Unless you have a very advanced regular expression or list a bunch of options, <code><a href="../reference/check_code.html">check_code()</a></code> will not be able to accept all these different approaches. <strong>Always think about better ways to test a student submission before you resort to <code><a href="../reference/check_code.html">check_code()</a></code></strong>.</p>
<div id="example-1-regular-expression" class="section level2">
<h2 class="hasAnchor">
<a href="#example-1-regular-expression" class="anchor"></a>Example 1: regular expression</h2>
<p>Suppose you want the student to type the sentence “R is Rsome!”, but you want to allow for some small mistakes regarding capitalization and the exclamation mark. The solution looks like this:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># Write the sentence in quotes</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="st">"R is Rsome!"</span></a></code></pre></div>
<p>The SCT could look as follows:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/check_code.html">check_code</a></span>(<span class="st">"^</span><span class="ch">\"</span><span class="st">[r|R] is [r|R]some!?</span><span class="ch">\"</span><span class="st">$"</span>,</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">                    <span class="dt">not_typed_msg =</span> <span class="st">"Have you correctly written the sentence `R is Rsome!`?"</span>)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw"><a href="../reference/success_msg.html">success_msg</a></span>(<span class="st">"Nice job!"</span>)</a></code></pre></div>
<p>All of the following student submission would be accepted by this <code>testwhat</code> function call:</p>
<ul>
<li><code>"R is Rsome!"</code></li>
<li><code>"R is Rsome"</code></li>
<li><code>"r is Rsome!"</code></li>
<li><code>"r is Rsome"</code></li>
<li><code>"R is rsome!"</code></li>
<li><code>"R is rsome"</code></li>
<li><code>"r is rsome!"</code></li>
<li><code>"r is rsome"</code></li>
</ul>
<p><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/regex.html">Click here to learn more about regular expressions in R</a>.</p>
</div>
<div id="example-2-exact-matchin" class="section level2">
<h2 class="hasAnchor">
<a href="#example-2-exact-matchin" class="anchor"></a>Example 2: Exact matchin</h2>
<p>Suppose you want to check whether a student coded a SQL expression correctly:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># Create the correct SQL expression</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">x &lt;-<span class="st"> "SELECT posts FROM tweets WHERE n_char &gt; 10"</span></a></code></pre></div>
<p>The student can solve this in many ways, all of which should be accepted:</p>
<ul>
<li><code>x &lt;- "select posts from tweets where n_char &gt; 10"</code></li>
<li><code>x &lt;- "SELECT posts FROM tweets WHERE n_char &gt; 10"</code></li>
<li><code>x &lt;- "SELECT posts from tweets where n_char &gt; 10"</code></li>
<li>…</li>
</ul>
<p>You can thus write the following SCT. In <code>strings</code> you specify a vector with all options. This time, you have to set <code>fixed = TRUE</code> so you can do exact string matching. Finally, you can chose to override the <code>not_typed_msg</code> to give a custom message if the student didn’t type what you expected.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/check_code.html">check_code</a></span>(<span class="kw">c</span>(<span class="st">"select posts from tweets where n_char &gt; 10"</span>,</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">                      <span class="st">"SELECT posts FROM tweets WHERE n_char &gt; 10"</span>,</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">                      <span class="st">"SELECT posts from tweets where n_char &gt; 10"</span>),</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">                    <span class="dt">fixed =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">                    <span class="dt">not_typed_msg =</span> <span class="st">"Have you correctly coded the SQL query?"</span>)</a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="kw"><a href="../reference/success_msg.html">success_msg</a></span>(<span class="st">"Great job!"</span>)</a></code></pre></div>
<p>However, the above SCT doesn’t really cut it. To be really robust to all different ways of coding this query, you’ll either want to use regular expressions inside <code>test_student_typed()</code> (see example 2) or do a check on the resulting data frame from executing the SQL query (preferable, since than you automatically cover any correct way of doing things).</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#example-1-regular-expression">Example 1: regular expression</a></li>
      <li><a href="#example-2-exact-matchin">Example 2: Exact matchin</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Andreas Alfons, Filip Schouwenaars, Vincent Vankrunkelsven.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
