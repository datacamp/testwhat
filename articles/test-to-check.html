<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Test to check • testwhat</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Test to check">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-120925561-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-120925561-1');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">testwhat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">4.11.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/syntax.html">Syntax</a>
</li>
<li>
  <a href="../articles/glossary.html">Glossary</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Guides
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/checking-objects.html">Checking objects</a>
    </li>
    <li>
      <a href="../articles/checking-function-calls.html">Checking function calls</a>
    </li>
    <li>
      <a href="../articles/checking-output.html">Checking output</a>
    </li>
    <li>
      <a href="../articles/checking-control-flow.html">Checking control flow</a>
    </li>
    <li>
      <a href="../articles/checking-function-definitions.html">Checking function definitions</a>
    </li>
    <li>
      <a href="../articles/checking-through-string-matching.html">Checking through string matching</a>
    </li>
    <li>
      <a href="../articles/combining-sets-of-SCTs.html">Combining sets of SCTs</a>
    </li>
    <li>
      <a href="../articles/checking-markdown-documents.html">Checking markdown documents</a>
    </li>
    <li>
      <a href="../articles/electives.html">Electives</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Advanced
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/test-to-check.html">Test to Check</a>
    </li>
    <li>
      <a href="../articles/extensions.html">Extensions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/datacamp/testwhat">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Test to check</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/datacamp/testwhat/blob/master/vignettes/test-to-check.Rmd"><code>vignettes/test-to-check.Rmd</code></a></small>
      <div class="hidden name"><code>test-to-check.Rmd</code></div>

    </div>

    
    
<p>If you are looking at the SCTs of old DataCamp courses, you’ll notice they use <code>test_x()</code> functions instead of <code>check_x()</code> functions, and there is no usage of <code>ex()</code>. The <code>test_x()</code> way of doing things has now been phased out in favor of the more verbose, but more transparent and composable <code>check_x()</code> functions that start with <code>ex()</code> and are chained together with the <code>%&gt;%</code> operator.</p>
<div id="common-cases" class="section level2">
<h2 class="hasAnchor">
<a href="#common-cases" class="anchor"></a>Common cases</h2>
<p>Whenever you come across an SCT that uses <code>test_x()</code> functions, you’ll make everybody’s life easier by converting it to a <code>check_x()</code>-based SCT. Below are the most common cases you will encounter, together with instructions on how to translate from one to the other.</p>
<p>Something you came across that you didn’t find in this list? Just create an issue on <a href="https://github.com/datacamp/testwhat"><code>testwhat</code>’s GitHub repo</a>. Content Engineering will explain how to translate the SCT and update this article.</p>
<div id="test_student_typed" class="section level3">
<h3 class="hasAnchor">
<a href="#test_student_typed" class="anchor"></a><code>test_student_typed()</code>
</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># Solution</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="ot">TRUE</span> <span class="op">&amp;</span><span class="st"> </span><span class="ot">FALSE</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co"># old SCT (fixed = TRUE by default)</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="kw">test_student_typed</span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"TRUE &amp; FALSE"</span>, <span class="st">"FALSE &amp; TRUE"</span>))</a>
<a class="sourceLine" id="cb1-6" data-line-number="6"></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="co"># new SCT (fixed = FALSE by default)</span></a>
<a class="sourceLine" id="cb1-8" data-line-number="8"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_code</span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"TRUE &amp; FALSE"</span>, <span class="st">"FALSE &amp; TRUE"</span>), <span class="dt">fixed =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># Solution</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="st">"Hello, world!"</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co"># equivalent 'old' SCT (fixed = TRUE by default)</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="kw">test_student_typed</span>(<span class="st">"[H|h]ello,*</span><span class="ch">\\</span><span class="st">s*[W|w]orld</span><span class="ch">\\</span><span class="st">!*"</span>, <span class="dt">fixed =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb2-6" data-line-number="6"></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co"># SCT, robust to small typos</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_code</span>(<span class="st">"[H|h]ello,*</span><span class="ch">\\</span><span class="st">s*[W|w]orld</span><span class="ch">\\</span><span class="st">!*"</span>)</a></code></pre></div>
</div>
<div id="test_object" class="section level3">
<h3 class="hasAnchor">
<a href="#test_object" class="anchor"></a><code>test_object()</code>
</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># Solution</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co"># old SCT</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="kw">test_object</span>(<span class="st">"x"</span>)</a>
<a class="sourceLine" id="cb3-6" data-line-number="6"></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co"># new SCT</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_object</span>(<span class="st">"x"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()</a></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co"># Solution, value of x does not matter</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="dv">5</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co"># old SCT</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="kw">test_object</span>(<span class="st">"x"</span>, <span class="dt">eval =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb4-6" data-line-number="6"></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co"># new SCT</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_object</span>(<span class="st">"x"</span>)</a></code></pre></div>
</div>
<div id="test_function" class="section level3">
<h3 class="hasAnchor">
<a href="#test_function" class="anchor"></a><code>test_function()</code>
</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># Solution</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co"># old SCT</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="kw">test_function</span>(<span class="st">"mean"</span>, <span class="dt">args =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"x"</span>))</a>
<a class="sourceLine" id="cb5-6" data-line-number="6"></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co"># new SCT</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_function</span>(<span class="st">"mean"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_arg</span>(<span class="st">"x"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()</a></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="co"># Solution, value of na.rm does not matter</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co"># old SCT</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="kw">test_function</span>(<span class="st">"mean"</span>, <span class="dt">args =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"x"</span>, <span class="st">"na.rm"</span>), <span class="dt">eval =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="ot">TRUE</span>, <span class="ot">NA</span>))</a>
<a class="sourceLine" id="cb6-6" data-line-number="6"></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co"># SCT</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_function</span>(<span class="st">"mean"</span>) <span class="op">%&gt;%</span><span class="st"> </span>{</a>
<a class="sourceLine" id="cb6-9" data-line-number="9">  <span class="kw">check_arg</span>(., <span class="st">"x"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()</a>
<a class="sourceLine" id="cb6-10" data-line-number="10">  <span class="kw">check_arg</span>(., <span class="st">"na.rm"</span>)</a>
<a class="sourceLine" id="cb6-11" data-line-number="11">}</a></code></pre></div>
</div>
<div id="test_error" class="section level3">
<h3 class="hasAnchor">
<a href="#test_error" class="anchor"></a><code>test_error()</code>
</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="co"># old SCT</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="kw">test_error</span>()</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="co"># new SCT</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_error</span>()</a></code></pre></div>
</div>
<div id="test_function_result" class="section level3">
<h3 class="hasAnchor">
<a href="#test_function_result" class="anchor"></a><code>test_function_result()</code>
</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="co"># Solution</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb8-3" data-line-number="3"></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="co"># old SCT</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="kw">test_function_result</span>(<span class="st">"mean"</span>)</a>
<a class="sourceLine" id="cb8-6" data-line-number="6"></a>
<a class="sourceLine" id="cb8-7" data-line-number="7"><span class="co"># new SCT</span></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_function</span>(<span class="st">"mean"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_result</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()</a></code></pre></div>
</div>
<div id="test_correct" class="section level3">
<h3 class="hasAnchor">
<a href="#test_correct" class="anchor"></a><code>test_correct()</code>
</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="co"># Solution (how x is calculated does not matter)</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2">x &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb9-3" data-line-number="3"></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="co"># old SCT</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="kw">test_correct</span>(<span class="kw">test_object</span>(<span class="st">"x"</span>), <span class="kw">test_function</span>(<span class="st">"mean"</span>, <span class="dt">args =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"x"</span>)))</a>
<a class="sourceLine" id="cb9-6" data-line-number="6"></a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="co"># new SCT</span></a>
<a class="sourceLine" id="cb9-8" data-line-number="8"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_correct</span>(</a>
<a class="sourceLine" id="cb9-9" data-line-number="9">  <span class="kw">check_object</span>(., <span class="st">"x"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>(),</a>
<a class="sourceLine" id="cb9-10" data-line-number="10">  <span class="kw">check_fun</span>(., <span class="st">"mean"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_arg</span>(<span class="st">"x"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()</a>
<a class="sourceLine" id="cb9-11" data-line-number="11">)</a></code></pre></div>
</div>
<div id="test_function_definition" class="section level3">
<h3 class="hasAnchor">
<a href="#test_function_definition" class="anchor"></a><code>test_function_definition()</code>
</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="co"># Solution</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2">my_fun &lt;-<span class="st"> </span><span class="cf">function</span>(a, b) {</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">  <span class="kw"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="st">"summing"</span>)</a>
<a class="sourceLine" id="cb10-4" data-line-number="4">  <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span>(a <span class="op">+</span><span class="st"> </span>b)</a>
<a class="sourceLine" id="cb10-5" data-line-number="5">}</a>
<a class="sourceLine" id="cb10-6" data-line-number="6"></a>
<a class="sourceLine" id="cb10-7" data-line-number="7"><span class="co"># old SCT</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="kw">test_function_definition</span>(<span class="st">"my_fun"</span>,</a>
<a class="sourceLine" id="cb10-9" data-line-number="9">                         <span class="dt">function_test =</span> {</a>
<a class="sourceLine" id="cb10-10" data-line-number="10">                           <span class="kw">test_expression_result</span>(<span class="st">"my_fun(1, 2)"</span>)</a>
<a class="sourceLine" id="cb10-11" data-line-number="11">                           <span class="kw">test_expression_output</span>(<span class="st">"my_fun(1, 2)"</span>)</a>
<a class="sourceLine" id="cb10-12" data-line-number="12">                         },</a>
<a class="sourceLine" id="cb10-13" data-line-number="13">                         <span class="dt">body_test =</span> {</a>
<a class="sourceLine" id="cb10-14" data-line-number="14">                           <span class="kw">test_function</span>(<span class="st">"print"</span>, <span class="st">"x"</span>)</a>
<a class="sourceLine" id="cb10-15" data-line-number="15">                           <span class="kw">test_student_typed</span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"a + b"</span>, <span class="st">"b + a"</span>))</a>
<a class="sourceLine" id="cb10-16" data-line-number="16">                         })</a>
<a class="sourceLine" id="cb10-17" data-line-number="17"></a>
<a class="sourceLine" id="cb10-18" data-line-number="18"><span class="co"># new SCT (not so great)</span></a>
<a class="sourceLine" id="cb10-19" data-line-number="19"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_fun_def</span>(<span class="st">'my_fun'</span>) <span class="op">%&gt;%</span><span class="st"> </span>{</a>
<a class="sourceLine" id="cb10-20" data-line-number="20">  <span class="kw">check_arguments</span>(.)</a>
<a class="sourceLine" id="cb10-21" data-line-number="21">  <span class="kw">check_call</span>(., <span class="dv">1</span>, <span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span>{</a>
<a class="sourceLine" id="cb10-22" data-line-number="22">    <span class="kw">check_result</span>(.) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()</a>
<a class="sourceLine" id="cb10-23" data-line-number="23">    <span class="kw">check_output</span>(.) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()</a>
<a class="sourceLine" id="cb10-24" data-line-number="24">  }</a>
<a class="sourceLine" id="cb10-25" data-line-number="25">  <span class="kw">check_body</span>(.) <span class="op">%&gt;%</span><span class="st"> </span>{</a>
<a class="sourceLine" id="cb10-26" data-line-number="26">    <span class="kw">check_function</span>(., <span class="st">"print"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_arg</span>(<span class="st">"x"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()</a>
<a class="sourceLine" id="cb10-27" data-line-number="27">    <span class="kw">check_code</span>(., <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"a + b"</span>, <span class="st">"b + a"</span>), <span class="dt">fixed =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb10-28" data-line-number="28">  }</a>
<a class="sourceLine" id="cb10-29" data-line-number="29">}</a>
<a class="sourceLine" id="cb10-30" data-line-number="30"></a>
<a class="sourceLine" id="cb10-31" data-line-number="31"><span class="co"># new SCT (better, uses check_correct)</span></a>
<a class="sourceLine" id="cb10-32" data-line-number="32"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_fun_def</span>(<span class="st">'my_fun'</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_correct</span>(</a>
<a class="sourceLine" id="cb10-33" data-line-number="33">  <span class="kw">check_call</span>(., <span class="dv">1</span>, <span class="dv">2</span>) <span class="op">%&gt;%</span><span class="st"> </span>{</a>
<a class="sourceLine" id="cb10-34" data-line-number="34">    <span class="kw">check_result</span>(.) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()</a>
<a class="sourceLine" id="cb10-35" data-line-number="35">    <span class="kw">check_output</span>(.) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()</a>
<a class="sourceLine" id="cb10-36" data-line-number="36">  },</a>
<a class="sourceLine" id="cb10-37" data-line-number="37">  {</a>
<a class="sourceLine" id="cb10-38" data-line-number="38">    <span class="kw">check_arguments</span>(.)</a>
<a class="sourceLine" id="cb10-39" data-line-number="39">    <span class="kw">check_body</span>(.) <span class="op">%&gt;%</span><span class="st"> </span>{</a>
<a class="sourceLine" id="cb10-40" data-line-number="40">      <span class="kw">check_function</span>(., <span class="st">"print"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_arg</span>(<span class="st">"x"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()</a>
<a class="sourceLine" id="cb10-41" data-line-number="41">      <span class="kw">check_code</span>(., <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"a + b"</span>, <span class="st">"b + a"</span>), <span class="dt">fixed =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb10-42" data-line-number="42">    }</a>
<a class="sourceLine" id="cb10-43" data-line-number="43">  }</a>
<a class="sourceLine" id="cb10-44" data-line-number="44">)</a></code></pre></div>
</div>
</div>
<div id="enforcing-check-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#enforcing-check-functions" class="anchor"></a>Enforcing check functions</h2>
<p>For newer courses an updated version of the base Docker image is used that sets the <code>TESTWHAT_V2_ONLY</code> environment variable. When this variable is set, <code>testwhat</code> will no longer allow SCT authors to use the old <code>test_x()</code> functions. If you are updating the Docker image for courses that have old skool SCTs, this would mean you have to rewrite all the SCTs to their check equivalents to make the build pass. If you want to work around this, thus being able to use test functions even with the latest base image, you can include one of the following snippets of code:</p>
<pre><code># in requirements.sh (bash code)
echo TESTWHAT_V2_ONLY=0 &gt; .Renviron

# in requirements.r (R code)
write("TESWHAT_V2_ONLY=0", file = ".Renviron")</code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#common-cases">Common cases</a></li>
      <li><a href="#enforcing-check-functions">Enforcing check functions</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Andreas Alfons, Filip Schouwenaars, Vincent Vankrunkelsven.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'cba84df952b7606852b92617801244e5',
    indexName: 'datacamp_testwhat',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
