<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Electives • testwhat</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Electives">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-120925561-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-120925561-1');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">testwhat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">4.11.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/syntax.html">Syntax</a>
</li>
<li>
  <a href="../articles/glossary.html">Glossary</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Guides
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/checking-objects.html">Checking objects</a>
    </li>
    <li>
      <a href="../articles/checking-function-calls.html">Checking function calls</a>
    </li>
    <li>
      <a href="../articles/checking-output.html">Checking output</a>
    </li>
    <li>
      <a href="../articles/checking-control-flow.html">Checking control flow</a>
    </li>
    <li>
      <a href="../articles/checking-function-definitions.html">Checking function definitions</a>
    </li>
    <li>
      <a href="../articles/checking-through-string-matching.html">Checking through string matching</a>
    </li>
    <li>
      <a href="../articles/combining-sets-of-SCTs.html">Combining sets of SCTs</a>
    </li>
    <li>
      <a href="../articles/checking-markdown-documents.html">Checking markdown documents</a>
    </li>
    <li>
      <a href="../articles/electives.html">Electives</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Advanced
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/test-to-check.html">Test to Check</a>
    </li>
    <li>
      <a href="../articles/extensions.html">Extensions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/datacamp/testwhat">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Electives</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/datacamp/testwhat/blob/master/vignettes/electives.Rmd"><code>vignettes/electives.Rmd</code></a></small>
      <div class="hidden name"><code>electives.Rmd</code></div>

    </div>

    
    
<div id="success-message" class="section level2">
<h2 class="hasAnchor">
<a href="#success-message" class="anchor"></a>Success message</h2>
<p>When all tests in an SCT pass, <code>testwhat</code> will automatically generate a congratulatory message to present to the student. If you want to override this ‘success message’, you can use the <code>success_msg()</code> function and specify a Markdown-formatted string:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_object</span>(<span class="st">"x"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_equal</span>()</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">success_msg</span>(<span class="st">"Great job! You're getting _so_ goot at object assignment!"</span>)</a></code></pre></div>
<p><a href="https://instructor-support.datacamp.com/courses/course-development/submission-correctness-tests">This article on the authoring docs</a> describes how to write good success messages.</p>
</div>
<div id="multiple-choice-exercises" class="section level2">
<h2 class="hasAnchor">
<a href="#multiple-choice-exercises" class="anchor"></a>Multiple choice exercises</h2>
<p>Multiple choice exercises are straightforward to test. Use <code>test_mc()</code> to provide tailored feedback for both the incorrect options, as the correct option. Below is the markdown source for a multiple choice exercise example, with an SCT that uses <code>test_mc</code>:</p>
<pre><code>## The author of R

```yaml
type: MultipleChoiceExercise
```

Who is one of the authors of the R programming language?

`@instructions`

- Roy Co
- Ronald McDonald
- Ross Ihaka

`@sct`

```r
msg1 &lt;- "That's someone who makes soups."
msg2 &lt;- "That's a clown who likes burgers."
msg3 &lt;- "Correct! Head over to the next exercise!"
ex() %&gt;% check_mc(correct = 3,
                  feedback_msgs = c(msg1, msg2, msg3))
```</code></pre>
<ul>
<li>
<code>correct</code> specifies the number of the correct answer in this list. Here, the correct answer is Ross Ihaka, corresponding to 3.</li>
<li>The <code>feedback_msgs</code> argument is a list of strings with a length equal to the number of options. It is encouraged to provide feedback messages that are informative and tailored to the (incorrect) option that people selected.</li>
<li>Notice that there’s no need for <code>success_msg()</code> in multiple choice exercises, as you have to specify the success message inside <code>test_mc()</code>, along with the feedback for incorrect options.</li>
</ul>
</div>
<div id="checking-library-calls" class="section level2">
<h2 class="hasAnchor">
<a href="#checking-library-calls" class="anchor"></a>Checking library calls</h2>
<p>The <code>check_library()</code> function can be used to verify whether a student correclty used <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> or <code><a href="https://rdrr.io/r/base/library.html">require()</a></code> to load in a package. It’s a utility function that uses <code>check_code()</code> behind the scenes.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># solution</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co"># sct</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_library</span>(<span class="st">"dplyr"</span>)</a>
<a class="sourceLine" id="cb3-6" data-line-number="6"></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co"># submissions that pass</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">'dplyr'</span>)</a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"dplyr"</span>)</a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span>(dplyr)</a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span>(<span class="st">'dplyr'</span>)</a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span>(<span class="st">"dplyr"</span>)</a></code></pre></div>
</div>
<div id="randomness" class="section level2">
<h2 class="hasAnchor">
<a href="#randomness" class="anchor"></a>Randomness</h2>
<p>To check the correctness of function calls, R objects etc. <code>testwhat</code> uses a student and solution environment. The pre exercise code (PEC) and student submission are executed in the student environment. Likewise, the PEC and the solution code are executed in the solution envrionment.</p>
<p>For basic exercises that don’t involve a random componenent, this works fine. As soon as your R code depends on pseudo-random numbers, however, this could imply a mismatch between objects in the student and solution code. To solve this, the R backend specifies seeds itself. (see <code><a href="https://rdrr.io/r/base/Random.html">?set.seed</a></code> for more background)</p>
<p>Before running the PEC in the student environment, the backend specifies a random seed based on the current time in seconds (i.e. a random seed). Before running the PEC in the solution environment, the same seed is reset. That way, the PEC leads to the exact same student and solution environments, even when randomly generated numbers are used. As an example, the following PEC will lead to the same <code>my_samples</code> object in both student and solution environment.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">my_samples &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="dv">100</span>)</a></code></pre></div>
<p>If you want to work with your own seed in the PEC, simply use <code><a href="https://rdrr.io/r/base/Random.html">set.seed()</a></code> at the top of your script, which overrides the seed the backend specified:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span>(<span class="dv">123</span>)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">my_samples &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="dv">100</span>)</a></code></pre></div>
<p>On exercise startup, the backend will run the solution code after running the PEC in the solution environment. Before the backend runs the solution code, however, a <em>script seed</em> will be specified with <code><a href="https://rdrr.io/r/base/Random.html">set.seed()</a></code>. This random seed is again based on the current time. This same seed will be used to reset the seed before each submission of a student: that way, there will again be perfect correspondence between both environments. If you want to work with a custom script seed, you have two options. You can either place a <code><a href="https://rdrr.io/r/base/Random.html">set.seed()</a></code> call at the top of both the sample and solution code and tell the student to not touch this. This is clearly non-ideal, so there’s a second option: the backend provides the function <code>custom_seed()</code>. Just like <code><a href="https://rdrr.io/r/base/Random.html">set.seed()</a></code> it takes a number that is used as the seed. If you call this function in your pre exercise code, the backend will use this seed instead of its own randomly generated seed before executing the solution code in the solution environment and before executing the student submission in the student environment.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">custom_seed</span>(<span class="dv">1234</span>)</a></code></pre></div>
<p><strong>In general, using <code><a href="https://rdrr.io/r/base/Random.html">set.seed()</a></code> and <code>custom_seed()</code> in your exercises is not necessary to ensure correspondence between your student and solution environment: the backend takes care of this for you. These functions are only necessary if you want to manually set a seed for either the pre exercise code or the student/solution code</strong></p>
</div>
<div id="allow-solution-error" class="section level2">
<h2 class="hasAnchor">
<a href="#allow-solution-error" class="anchor"></a>Allow solution error</h2>
<p>In some cases, you may want the student to submit code that intentially throws errors. For example, you want the student to define a function that throws an error if the input arguments are not in the correct format, and next you want the student to call this functoin, hence throwing the error.</p>
<p>By default, DataCamp’s RBackend does not allow solutions that lead to an error. To suppress this backend error, you can use the following in the pre-exercise-code:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">allow_solution_error</span>()</a></code></pre></div>
<p>This tells the backend that the solution code will generate an error when executed.</p>
</div>
<div id="blocking-solution-execution" class="section level2">
<h2 class="hasAnchor">
<a href="#blocking-solution-execution" class="anchor"></a>Blocking solution execution</h2>
<p>An issue with R packages is that they’re often not developed by software developers. Sometimes, very specialized R packages only work in a certain context. More specifically, some packages expect data to be available in the global environment (the top of the search path).</p>
<p>For <code>testwhat</code> and DataCamp’s R Backend it communicates with, this can cause problems: there’s a solution enviroment and a student environment (so that <code>testwhat</code> can easily compare objects that student created with the object that they should’ve created, for example with <code>check_object()</code>). If the code that’s executed in the solution environment implicitly expects data to be available in the global environment (which is the student environment), things get messed up.</p>
<p>To circumvent these errors, you can use the <code>SingleProcessExercise</code>. This is the same as a <code>NormalExercise</code>, but the backend will not execute the solution code in the solution environment, and the issues won’t appear. This does limit the power of the SCT: there are no objects available in the solution environment to compare with now. There are ways to work around this, though.</p>
<p>As an example, suppose you want to test simple assignment, but for some reason you don’t want the solution code to execute in the solution environment:</p>
<pre><code>--- type:SingleProcessExercise 
## Test exercise

... (content here)

*** =solution

```r
x &lt;- 5
```</code></pre>
<p>If you want to test this exercise, you cannot use</p>
<pre><code>*** =sct

```r
ex() %&gt;% check_object('x')
```</code></pre>
<p>because <code>check_object()</code> will look for <code>x</code> in the solution environment and not find it. You can work around this by using the chained syntax and manually storing elements in the solution environment:</p>
<pre><code>*** =sct

```r
ex() %&gt;% override_solution(x = 5) %&gt;% check_object('x') %&gt;% check_equal()
```</code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#success-message">Success message</a></li>
      <li><a href="#multiple-choice-exercises">Multiple choice exercises</a></li>
      <li><a href="#checking-library-calls">Checking library calls</a></li>
      <li><a href="#randomness">Randomness</a></li>
      <li><a href="#allow-solution-error">Allow solution error</a></li>
      <li><a href="#blocking-solution-execution">Blocking solution execution</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Andreas Alfons, Filip Schouwenaars, Vincent Vankrunkelsven.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'cba84df952b7606852b92617801244e5',
    indexName: 'datacamp_testwhat',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
