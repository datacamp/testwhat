<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Checking through string matching • testwhat</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Checking through string matching">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-120925561-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-120925561-1');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">testwhat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">4.11.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/syntax.html">Syntax</a>
</li>
<li>
  <a href="../articles/glossary.html">Glossary</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Guides
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/checking-objects.html">Checking objects</a>
    </li>
    <li>
      <a href="../articles/checking-function-calls.html">Checking function calls</a>
    </li>
    <li>
      <a href="../articles/checking-output.html">Checking output</a>
    </li>
    <li>
      <a href="../articles/checking-control-flow.html">Checking control flow</a>
    </li>
    <li>
      <a href="../articles/checking-function-definitions.html">Checking function definitions</a>
    </li>
    <li>
      <a href="../articles/checking-through-string-matching.html">Checking through string matching</a>
    </li>
    <li>
      <a href="../articles/combining-sets-of-SCTs.html">Combining sets of SCTs</a>
    </li>
    <li>
      <a href="../articles/checking-markdown-documents.html">Checking markdown documents</a>
    </li>
    <li>
      <a href="../articles/electives.html">Electives</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Advanced
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/test-to-check.html">Test to Check</a>
    </li>
    <li>
      <a href="../articles/extensions.html">Extensions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/datacamp/testwhat">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Checking through string matching</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/datacamp/testwhat/blob/master/vignettes/checking-through-string-matching.Rmd"><code>vignettes/checking-through-string-matching.Rmd</code></a></small>
      <div class="hidden name"><code>checking-through-string-matching.Rmd</code></div>

    </div>

    
    
<p>With <code>check_code()</code>, you can look through the student’s submission to find a match with the string or strings specified in <code>strings</code>. With <code>fixed</code> you can declare whether or not to use regular expressions. If <code>fixed = FALSE</code>, the default, the strings are used as regular expressions for which a match is sought. when <code>fixed = TRUE</code>, <code>check_code()</code> will consider the strings you pass as actual strings that have to be found exactly in the student’s submission. <code>times</code> tells how often (one of) the string(s) should be matched.</p>
<p>Before a match is sought, the student submission as well as the <code>strings</code> argument is ‘cleaned up’: spaces are removed, all <code>&lt;-</code> are replaced by <code>=</code>, double strings are changed to single strings, etc. That way, you don’t have to code all equivalent options.</p>
<p><strong>CAUTION</strong>: It is often tempting to use <code>check_code()</code> as it’s straightforward to use, but <strong>you should avoid using this function</strong>, as it imposes severe restrictions on how a student can solve an exercise. Often, there are many different ways to solve an exercise. Unless you have a very advanced regular expression or list a bunch of options, <code>check_code()</code> will not be able to accept all these different approaches. <strong>Always think about better ways to test a student submission before you resort to <code>check_code()</code></strong>.</p>
<div id="example-1-regular-expression" class="section level2">
<h2 class="hasAnchor">
<a href="#example-1-regular-expression" class="anchor"></a>Example 1: regular expression</h2>
<p>Suppose you want the student to type the sentence “R is Rsome!”, but you want to allow for some small mistakes regarding capitalization and the exclamation mark. The solution looks like this:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># Write the sentence in quotes</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="st">"R is Rsome!"</span></a></code></pre></div>
<p>The SCT could look as follows:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_code</span>(<span class="st">"^</span><span class="ch">\"</span><span class="st">[r|R] is [r|R]some!?</span><span class="ch">\"</span><span class="st">$"</span>,</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">                    <span class="dt">not_typed_msg =</span> <span class="st">"Have you correctly written the sentence `R is Rsome!`?"</span>)</a></code></pre></div>
<p>All of the following student submission would be accepted by this <code>testwhat</code> function call:</p>
<ul>
<li><code>"R is Rsome!"</code></li>
<li><code>"R is Rsome"</code></li>
<li><code>"r is Rsome!"</code></li>
<li><code>"r is Rsome"</code></li>
<li><code>"R is rsome!"</code></li>
<li><code>"R is rsome"</code></li>
<li><code>"r is rsome!"</code></li>
<li><code>"r is rsome"</code></li>
</ul>
<p><a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/regex.html">Click here to learn more about regular expressions in R</a>.</p>
</div>
<div id="example-2-exact-matching" class="section level2">
<h2 class="hasAnchor">
<a href="#example-2-exact-matching" class="anchor"></a>Example 2: Exact matching</h2>
<p>Suppose you want to check whether a student coded a SQL expression correctly:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># Create the correct SQL expression</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">x &lt;-<span class="st"> "SELECT posts FROM tweets WHERE n_char &gt; 10"</span></a></code></pre></div>
<p>The student can solve this in many ways, all of which should be accepted:</p>
<ul>
<li><code>x &lt;- "select posts from tweets where n_char &gt; 10"</code></li>
<li><code>x &lt;- "SELECT posts FROM tweets WHERE n_char &gt; 10"</code></li>
<li><code>x &lt;- "SELECT posts from tweets where n_char &gt; 10"</code></li>
<li>…</li>
</ul>
<p>You can thus write the following SCT. In <code>strings</code> you specify a vector with all options. This time, you have to set <code>fixed = TRUE</code> so you can do exact string matching. Finally, you can chose to override the <code>not_typed_msg</code> to give a custom message if the student didn’t type what you expected.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">ex</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">check_code</span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"select posts from tweets where n_char &gt; 10"</span>,</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">                      <span class="st">"SELECT posts FROM tweets WHERE n_char &gt; 10"</span>,</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">                      <span class="st">"SELECT posts from tweets where n_char &gt; 10"</span>),</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">                    <span class="dt">fixed =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">                    <span class="dt">not_typed_msg =</span> <span class="st">"Have you correctly coded the SQL query?"</span>)</a></code></pre></div>
<p>However, the above SCT doesn’t really cut it. To be really robust to all different ways of coding this query, you’ll either want to use regular expressions inside <code>test_student_typed()</code> (see example 2) or do a check on the resulting data frame from executing the SQL query (preferable, since than you automatically cover any correct way of doing things).</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#example-1-regular-expression">Example 1: regular expression</a></li>
      <li><a href="#example-2-exact-matching">Example 2: Exact matching</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Andreas Alfons, Filip Schouwenaars, Vincent Vankrunkelsven.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'cba84df952b7606852b92617801244e5',
    indexName: 'datacamp_testwhat',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
